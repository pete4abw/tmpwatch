2010-03-23  Miloslav Trmač  <mitr@redhat.com>

	* configure.ac: Release 2.10.
	* NEWS: Update.

2010-03-23  Ben Walton  <bwalton@cquest.utoronto.ca>

	* tmpwatch.c (check_fuser): s/FUSER_PATH/FUSER/ in one more place.

2010-03-22  Miloslav Trmač  <mitr@redhat.com>

	* tmpwatch.c (check_fuser): Move the check for FUSER existence from
	callers.  Only check if FUSER exists once.  All callers updated.

	* configure.ac: Check if fuser supports -s.
	* tmpwatch.c (check_fuser): Redirect stdout and stderr instead of using
	-s if !FUSER_ACCEPTS_S.
	All based on a patch by Ben Walton <bwalton@artsci.utoronto.ca>
	(FUSER_ARGS): Remove, simply use "-s" directly.

	* configure.ac: Search for fuser, check if it works.  Define FUSER.
	* tmpwatch.c: Remove FUSER_PATH.  Replace all uses with FUSER.
	(check_fuser): Just #define to 0 if !FUSER.
	(usage): Mention --fuser if supported.
	(main): Only recognize --fuser if supported.
	All based on a patch by Ben Walton <bwalton@artsci.utoronto.ca>

2010-03-12  Miloslav Trmač  <mitr@redhat.com>

	* m4/gnulib-cache.m4 (gl_MODULES): Add `progname'.
	* tmpwatch.c (main): Call set_program_name.

2010-03-09  Miloslav Trmač  <mitr@redhat.com>

	* lib/strerror.c: Fix missing #include <limits.h>.

2010-03-03  Miloslav Trmač  <mitr@redhat.com>

	* tmpwatch.c (struct exclusion): Use `const char *' for `dir' and
	`file'.
	(message): Use `const char *' for `format'.
	(cleanupDirectory): Don't use two local variables named `dir'.
	(usage): Use attribute__((noreturn)).

	* tmpwatch.c (xmalloc): Remove (use the gnulib implementation).
	(absolute_path): Use xstrdup() from gnulib.
	* m4/gnulib-cache.m4 (gl_MODULES): Add `xalloc'.

	* AUTHORS: New file.
	* configure.ac, Makefile.am: New files, based on patches by Ben
	Walton <bwalton@artsci.utoronto.ca>.
	* tmpwatch.c: #include <config.h>.  Guard <mntent.h> and <paths.h>
	with HAVE_MNTENT_H and HAVE_PATHS_H.  Use PACKAGE_VERSION.  Based
	on patches by Ben Walton <bwalton@artsci.utoronto.ca>.
	* install-sh
	* Makefile
	* README.ports: Remove.

2009-12-22  Miloslav Trmač  <mitr@redhat.com>

	* Makefile (VERSION): Release 2.9.17.
	* NEWS: Update.

	* tmpwatch.c (check_fuser): Use PATH_MAX, not FILENAME_MAX; the POSIX
	definition of FILENAME_MAX does not match the intended usage.
	(check_fuser): Prefix filename with "./" to handle filenames starting
	with '-'.

2009-10-15  Miloslav Trmač  <mitr@redhat.com>

	* Makefile (VERSION): Version 2.9.16.
	* NEWS: Update.

	* tmpwatch.c (main): Support 'm' unit specifier, meaning "minutes".
	* tmpwatch.8: Document the 'm' unit specifier.

	* tmpwatch.c (struct excluded_pattern, excluded_patterns)
	(excluded_patterns_tail, main): New option --exclude-pattern.
	(cleanupDirectory): Implement --exclude-pattern.
	* tmpwatch.8: Document --exclude-pattern.

2009-05-22  Miloslav Trmač  <mitr@redhat.com>

	* Makefile (VERSION): Version 2.9.15.
	* NEWS: Update.

2009-03-25  Miloslav Trmač  <mitr@redhat.com>

	* tmpwatch.c (logLevel, message, safe_chdir, check_fuser, max)
	(cleanupDirectory, printCopyright, usage): Make static.

	* tmpwatch.c (printCopyright): Update copyright year.

	* tmpwatch.c (check_fuser): Don't pass NULL as environment pointer,
	it is undefined by POSIX.

2009-03-23  Miloslav Trmač  <mitr@redhat.com>

	* Makefile (VERSION): Version 2.9.14.
	* NEWS: Update.

	* tmpwatch.c: Only #include mntent.h on Linux.
	(is_mount_point): Only define on Linux, it is only used on Linux.

2009-02-05  Miloslav Trmač  <mitr@redhat.com>

	* tmpwatch.c (cleanupDirectory): Fix an incorrect message (#3).

2008-11-11  Miloslav Trmač  <mitr@redhat.com>

	* COPYING: New file.

2008-02-23  Miloslav Trmač  <mitr@redhat.com>

	* Makefile (VERSION): Version 2.9.13.

	* NEWS
	* README: New file.

	* Makefile (HGTAG): Replace CVSTAG.
	(force-tag, tag, archive): Update for Mercurial.

	* tmpwatch.c: Relicense to GPLv2.  Update Red Hat copyright message.
	(printCopyright): Update.

	* tmpwatch.8: Add a copyright message.
